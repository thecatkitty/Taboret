@using Microsoft.AspNetCore.Identity
@using KucykoweRodeo.Areas.Identity

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

<ul class="nav navbar-nav ml-auto">
 @if (SignInManager.IsSignedIn(User))
 {
  var discordUser = await Context.GetDiscordUser();

  <li class="nav-item d-flex align-items-center">
   <img class="nav-link" src="@discordUser.GetAvatarUrl(size: 16)" alt="Awatar" />
   <a id="manage" class="nav-link" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Cześć, @discordUser.Username!</a>
  </li>
  <li class="nav-item">
   <a class="nav-link" asp-area="Identity" asp-page="/Account/Logout">Wyloguj</a>
  </li>
 }
 else
 {
  <li class="nav-item">
   <a class="nav-link" id="login" asp-area="Identity" asp-page="/Account/ExternalLogin" asp-route-provider="Discord">Zaloguj</a>
  </li>
 }
</ul>